{% extends "base.html" %}

{% block title %}申请发票 - 广告管理系统{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">申请发票</h4>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <h5>支付信息</h5>
                    <p>交易号：{{ payment.transaction_id }}</p>
                    <p>金额：¥{{ payment.amount }}</p>
                    <p>支付方式：
                        {% if payment.payment_method == 'alipay' %}
                        支付宝
                        {% elif payment.payment_method == 'wechat' %}
                        微信支付
                        {% else %}
                        银行转账
                        {% endif %}
                    </p>
                </div>

                <form method="POST">
                    <div class="mb-3">
                        <label for="invoice_type" class="form-label">发票类型</label>
                        <select class="form-select" id="invoice_type" name="invoice_type" required>
                            <option value="personal">个人发票</option>
                            <option value="company">企业发票</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label for="company_name" class="form-label">单位名称</label>
                        <input type="text" class="form-control" id="company_name" name="company_name" required>
                    </div>

                    <div class="mb-3">
                        <label for="tax_number" class="form-label">税号</label>
                        <input type="text" class="form-control" id="tax_number" name="tax_number">
                        <div class="form-text">企业发票必填</div>
                    </div>

                    <div class="mb-3">
                        <label for="address" class="form-label">地址</label>
                        <input type="text" class="form-control" id="address" name="address" required>
                    </div>

                    <div class="mb-3">
                        <label for="phone" class="form-label">电话</label>
                        <input type="tel" class="form-control" id="phone" name="phone" required>
                    </div>

                    <button type="submit" class="btn btn-primary">提交申请</button>
                    <a href="{{ url_for('main.payment_history') }}" class="btn btn-link">返回</a>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}